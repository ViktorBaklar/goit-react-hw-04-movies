{"version":3,"sources":["services/SearchApi.js","pages/pagesStyle/pages.module.css","components/movieCard/movieCard.module.css","components/moviesList/MoviesList.module.css","components/movieCard/no-poster-available.jpg","components/movieCard/index.jsx","components/moviesList/index.jsx","components/searchForm/searchForm.module.css","components/searchForm/index.jsx","pages/MoviesPage/index.jsx"],"names":["API_KEY","BASE_URL","SearchApi","fetchTrendingMovies","a","axios","get","response","data","results","fetchDetails","id","fetchCredits","cast","fetchReviews","fetchMovieSearching","query","module","exports","MovieCard","title","name","poster_path","className","style","card","src","noPoster","alt","cardBody","cardTitle","withRouter","movies","location","MoviesList","map","to","pathname","state","from","SearchForm","handleChange","event","setState","currentTarget","value","trim","handleSubmit","preventDefault","props","onSubmit","searchbar","action","this","searchForm","searchFormInput","type","onChange","searchBtn","searchBtnLabel","Component","MoviesPage","SearchQuery","onChangeQuery","history","push","search","searchQuery","fetchMovies","console","log","window","url","URLSearchParams","prevProps","prevState","containerFluid"],"mappings":"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","file":"static/js/4.62a808ff.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY = '9a8847c3aa731c652a1c3824b2fe37ec';\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\n\r\nconst fetchTrendingMovies = async () => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/trending/all/day?api_key=${API_KEY}`,\r\n  );\r\n  return response.data.results;\r\n};\r\n\r\nconst fetchDetails = async id => {\r\n  const response = await axios.get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\r\n  return response.data;\r\n};\r\n\r\nconst fetchCredits = async id => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`,\r\n  );\r\n  return response.data.cast;\r\n};\r\n\r\nconst fetchReviews = async id => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`,\r\n  );\r\n  return response.data.results;\r\n};\r\n\r\nconst fetchMovieSearching = async query => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`,\r\n  );\r\n  return response.data.results;\r\n};\r\n\r\n// export default {\r\n//   fetchTrendingMovies,\r\n//   fetchDetails,\r\n//   fetchCredits,\r\n//   fetchReviews,\r\n//   fetchMovieSearching,\r\n// };\r\n\r\nconst SearchApi = {\r\n  fetchTrendingMovies,\r\n  fetchDetails,\r\n  fetchCredits,\r\n  fetchReviews,\r\n  fetchMovieSearching\r\n}\r\n\r\nexport default SearchApi;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerFluid\":\"pages_containerFluid__2wa3g\",\"btnOutback\":\"pages_btnOutback__2Z6MB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"movieCard_card__ngNP8\",\"cardTitle\":\"movieCard_cardTitle__3niIi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MoviesList\":\"MoviesList_MoviesList__3kkXF\"};","export default __webpack_public_path__ + \"static/media/no-poster-available.7555b152.jpg\";","import style from './movieCard.module.css'\r\nimport noPoster from './no-poster-available.jpg'\r\n\r\nconst IMG_URL = 'https://image.tmdb.org/t/p/w200'\r\n\r\nconst MovieCard = ({ title, name, poster_path }) => {\r\n  return (\r\n    <div className={style.card}>\r\n      <img src={poster_path ? `${IMG_URL}${poster_path}` : noPoster} alt={title || name} />\r\n      <div className={style.cardBody}>\r\n        <h4 className={style.cardTitle}>{title || name}</h4>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieCard;","import { NavLink, withRouter } from 'react-router-dom';\r\nimport MovieCard from '../movieCard';\r\nimport style from './MoviesList.module.css'\r\n\r\nconst MoviesList = ({ movies, location }) => {\r\n  return (\r\n    <ul className={style.MoviesList}>\r\n      {movies.map(({ id, title, name, poster_path }) => (\r\n        <li key={id}>\r\n          <NavLink to={{\r\n            pathname: `/movies/${id}`,\r\n            state: {\r\n              from: location,\r\n            }\r\n          }}>\r\n            <MovieCard title={title} name={name} poster_path={poster_path} />\r\n          </NavLink>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default withRouter(MoviesList);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"searchForm_searchbar__2-yCa\",\"searchForm\":\"searchForm_searchForm__3LLrl\",\"searchBtn\":\"searchForm_searchBtn__34Dxl\",\"searchBtnLabel\":\"searchForm_searchBtnLabel__2KpT_\",\"searchFormInput\":\"searchForm_searchFormInput__1fxNJ\"};","import React, { Component } from 'react';\r\nimport style from './searchForm.module.css'\r\n\r\nclass SearchForm extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ query: event.currentTarget.value.trim() });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={style.searchbar}>\r\n        <form action=\"\" onSubmit={this.handleSubmit} className={style.searchForm}\r\n        >\r\n          <input\r\n            className={style.searchFormInput}\r\n            type=\"text\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n          <button type=\"submit\" className={style.searchBtn}>\r\n            <span className={style.searchBtnLabel}>Search</span>\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchForm;","import React, { Component } from 'react';\r\n// import Header from '../../components/header';\r\nimport MoviesList from '../../components/moviesList';\r\nimport SearchForm from '../../components/searchForm';\r\nimport SearchApi from '../../services/SearchApi';\r\nimport style from '../pagesStyle/pages.module.css';\r\n\r\nclass MoviesPage extends Component {\r\n  state = {\r\n    SearchQuery: '',\r\n    movies: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { location } = this.props;\r\n    if (location?.state?.searchQuery) {\r\n      this.setState({ SearchQuery: location?.state?.searchQuery });\r\n    }\r\n    if (window.location.search) {\r\n      const url = new URLSearchParams(window.location.search);\r\n      this.setState({ SearchQuery: url.get('query') });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.SearchQuery !== this.state.SearchQuery) {\r\n      this.fetchMovies();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({ SearchQuery: query });\r\n\r\n    this.props.history.push({\r\n      pathname: this.props.location.pathname,\r\n      search: `query=${query}`,\r\n      state: { searchQuery: query },\r\n    });\r\n  };\r\n\r\n  fetchMovies = async () => {\r\n    try {\r\n      const movies = await SearchApi.fetchMovieSearching(this.state.SearchQuery);\r\n      this.setState({ movies });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <SearchForm onSubmit={this.onChangeQuery} />\r\n        <div className={style.containerFluid}>\r\n          {/* <h1>Select Movie</h1> */}\r\n          <MoviesList movies={this.state.movies} />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesPage;"],"sourceRoot":""}