(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{39:function(e,t,a){"use strict";var r=a(35),n=a.n(r),c=a(36),s=a(43),i=a.n(s),o="9a8847c3aa731c652a1c3824b2fe37ec",u="https://api.themoviedb.org/3",h={fetchTrendingMovies:function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(u,"/trending/all/day?api_key=").concat(o));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fetchDetails:function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(u,"/movie/").concat(t,"?api_key=").concat(o));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchCredits:function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(u,"/movie/").concat(t,"/credits?api_key=").concat(o));case 2:return a=e.sent,e.abrupt("return",a.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchReviews:function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(u,"/movie/").concat(t,"/reviews?api_key=").concat(o));case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchMovieSearching:function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(u,"/search/movie?api_key=").concat(o,"&query=").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=h},40:function(e,t,a){e.exports={containerFluid:"pages_containerFluid__2wa3g",btnOutback:"pages_btnOutback__2Z6MB"}},44:function(e,t,a){e.exports={card:"movieCard_card__ngNP8",cardTitle:"movieCard_cardTitle__3niIi"}},45:function(e,t,a){e.exports={MoviesList:"MoviesList_MoviesList__3kkXF"}},46:function(e,t,a){"use strict";var r=a(9),n=a(2),c=a(44),s=a.n(c),i=a.p+"static/media/no-poster-available.7555b152.jpg",o=a(1),u=function(e){var t=e.title,a=e.name,r=e.poster_path;return Object(o.jsxs)("div",{className:s.a.card,children:[Object(o.jsx)("img",{src:r?"".concat("https://image.tmdb.org/t/p/w200").concat(r):i,alt:t||a}),Object(o.jsx)("div",{className:s.a.cardBody,children:Object(o.jsx)("h4",{className:s.a.cardTitle,children:t||a})})]})},h=a(45),p=a.n(h);t.a=Object(n.g)((function(e){var t=e.movies,a=e.location;return Object(o.jsx)("ul",{className:p.a.MoviesList,children:t.map((function(e){var t=e.id,n=e.title,c=e.name,s=e.poster_path;return Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:{pathname:"/movies/".concat(t),state:{from:a}},children:Object(o.jsx)(u,{title:n,name:c,poster_path:s})})},t)}))})}))},74:function(e,t,a){e.exports={searchbar:"searchForm_searchbar__2-yCa",searchForm:"searchForm_searchForm__3LLrl",searchBtn:"searchForm_searchBtn__34Dxl",searchBtnLabel:"searchForm_searchBtnLabel__2KpT_",searchFormInput:"searchForm_searchFormInput__1fxNJ"}},78:function(e,t,a){"use strict";a.r(t);var r=a(35),n=a.n(r),c=a(36),s=a(37),i=a(38),o=a(42),u=a(41),h=a(0),p=a(46),l=a(74),v=a.n(l),m=a(1),d=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value.trim()})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(m.jsx)("div",{className:v.a.searchbar,children:Object(m.jsxs)("form",{action:"",onSubmit:this.handleSubmit,className:v.a.searchForm,children:[Object(m.jsx)("input",{className:v.a.searchFormInput,type:"text",value:this.state.query,onChange:this.handleChange}),Object(m.jsx)("button",{type:"submit",className:v.a.searchBtn,children:Object(m.jsx)("span",{className:v.a.searchBtnLabel,children:"Search"})})]})})}}]),a}(h.Component),f=a(39),b=a(40),j=a.n(b),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={SearchQuery:"",movies:[]},e.onChangeQuery=function(t){e.setState({SearchQuery:t}),e.props.history.push({pathname:e.props.location.pathname,search:"query=".concat(t),state:{searchQuery:t}})},e.fetchMovies=Object(c.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.fetchMovieSearching(e.state.SearchQuery);case 3:a=t.sent,e.setState({movies:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this.props.location;(null===a||void 0===a||null===(e=a.state)||void 0===e?void 0:e.searchQuery)&&this.setState({SearchQuery:null===a||void 0===a||null===(t=a.state)||void 0===t?void 0:t.searchQuery});if(window.location.search){var r=new URLSearchParams(window.location.search);this.setState({SearchQuery:r.get("query")})}}},{key:"componentDidUpdate",value:function(e,t){t.SearchQuery!==this.state.SearchQuery&&this.fetchMovies()}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d,{onSubmit:this.onChangeQuery}),Object(m.jsx)("div",{className:j.a.containerFluid,children:Object(m.jsx)(p.a,{movies:this.state.movies})})]})}}]),a}(h.Component);t.default=y}}]);
//# sourceMappingURL=4.62a808ff.chunk.js.map