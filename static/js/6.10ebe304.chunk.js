(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{39:function(t,e,r){"use strict";var n=r(35),a=r.n(n),c=r(36),s=r(43),i=r.n(s),o="9a8847c3aa731c652a1c3824b2fe37ec",u="https://api.themoviedb.org/3",p={fetchTrendingMovies:function(){var t=Object(c.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(u,"/trending/all/day?api_key=").concat(o));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),fetchDetails:function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(u,"/movie/").concat(e,"?api_key=").concat(o));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fetchCredits:function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(u,"/movie/").concat(e,"/credits?api_key=").concat(o));case 2:return r=t.sent,t.abrupt("return",r.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fetchReviews:function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(u,"/movie/").concat(e,"/reviews?api_key=").concat(o));case 2:return r=t.sent,t.abrupt("return",r.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fetchMovieSearching:function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(u,"/search/movie?api_key=").concat(o,"&query=").concat(e));case 2:return r=t.sent,t.abrupt("return",r.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};e.a=p},40:function(t,e,r){t.exports={containerFluid:"pages_containerFluid__2wa3g",btnOutback:"pages_btnOutback__2Z6MB"}},75:function(t,e,r){t.exports={castList:"cast_castList__1eM4B"}},77:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}r.r(e);var s=r(35),i=r.n(s),o=r(36),u=r(37),p=r(38),h=r(42),l=r(41),j=r(0),b=r(2),v=r(39),d=r(1),f=function(t){var e=t.backdrop_path,r=t.original_title,n=t.vote_average,a=t.overview,c=t.genres,s=t.poster_path;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:r}),Object(d.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500","/").concat(e||s),alt:"Poster of ".concat(r)}),Object(d.jsxs)("p",{children:["User score: ",10*n,"%"]}),Object(d.jsx)("h2",{children:"Overview"}),Object(d.jsx)("p",{children:a}),Object(d.jsx)("h2",{children:"Genres"}),Object(d.jsx)("p",{children:c.map((function(t){return t.name})).join(" ")})]})},O=r(9),m=r.p+"static/media/noImg.0b19f0b7.png",x=r(75),g=r.n(x),w=function(t){var e=t.cast;return Object(d.jsx)("ul",{className:g.a.castList,children:e.map((function(t){var e=t.id,r=t.profile_path,n=t.name,a=t.character;return Object(d.jsx)("li",{children:Object(d.jsxs)("div",{className:g.a.card,children:[Object(d.jsx)("img",{className:g.a.castImg,src:r?"".concat("https://image.tmdb.org/t/p/w200").concat(r):m,alt:"".concat(n)}),Object(d.jsxs)("div",{className:g.a.cardBody,children:[Object(d.jsxs)("p",{children:["Actor: ",Object(d.jsx)("strong",{children:n})]}),Object(d.jsxs)("p",{children:["Character: ",Object(d.jsx)("strong",{children:a})]})]})]})},e)}))})},y=function(t){var e=t.reviews;return Object(d.jsx)("ul",{children:e.map((function(t){var e=t.id,r=t.author,n=t.content;return Object(d.jsxs)("li",{children:[Object(d.jsxs)("h4",{children:["Author: ",r]}),Object(d.jsx)("p",{children:n})]},e)}))})},k=(r(21),Object(j.createRef)()),_=function(t){Object(h.a)(r,t);var e=Object(l.a)(r);function r(){var t;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={pathState:{}},t}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var t;this.setState({pathState:null===(t=this.props.location)||void 0===t?void 0:t.state})}},{key:"componentDidUpdate",value:function(){k.current.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var t=this.props,e=t.match,r=t.cast,n=t.reviews;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Additional info"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(O.b,{to:{pathname:"".concat(e.url,"/cast"),state:{from:this.state.pathState.from}},children:"Cast"})}),Object(d.jsx)("li",{children:Object(d.jsx)(O.b,{to:{pathname:"".concat(e.url,"/reviews"),state:{from:this.state.pathState.from}},children:"Reviews"})})]}),Object(d.jsxs)("div",{ref:k,children:[r&&Object(d.jsx)(b.b,{path:"".concat(e.path,"/cast"),render:function(){return Object(d.jsx)(w,{cast:r})}}),n&&Object(d.jsx)(b.b,{path:"".concat(e.path,"/reviews"),render:function(t){return Object(d.jsx)(y,{reviews:n})}})]})]})}}]),r}(j.Component),P=r(7),D=r(40),S=r.n(D),C=function(t){Object(h.a)(r,t);var e=Object(l.a)(r);function r(){var t;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={movie:{},cast:[],reviews:[]},t.handleGoBack=function(){var e,r=t.props,n=r.history,a=r.location;n.push((null===a||void 0===a||null===(e=a.state)||void 0===e?void 0:e.from)||P.a.movies)},t}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var t=Object(o.a)(i.a.mark((function t(){var e,r,n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.match.params.movieId,t.next=3,v.a.fetchDetails(e);case 3:return r=t.sent,t.next=6,v.a.fetchCredits(e);case 6:return n=t.sent,t.next=9,v.a.fetchReviews(e);case 9:a=t.sent,this.setState({movie:r,cast:n,reviews:a});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state.movie,r=e.backdrop_path,n=e.id,a=e.original_title,s=e.vote_average,i=e.overview,o=e.genres,u=e.poster_path;return Object(d.jsxs)("div",{className:S.a.containerFluid,children:[Object(d.jsx)("button",{type:"button",className:S.a.btnOutback,onClick:this.handleGoBack,children:"Go back"}),n&&Object(d.jsx)(f,{backdrop_path:r,poster_path:u,id:n,original_title:a,vote_average:s,overview:i,genres:o}),n&&Object(d.jsx)(b.b,{path:this.props.match.path,render:function(e){return Object(d.jsx)(_,c(c({},e),{},{cast:t.state.cast,reviews:t.state.reviews}))}})]})}}]),r}(j.Component);e.default=C}}]);
//# sourceMappingURL=6.10ebe304.chunk.js.map